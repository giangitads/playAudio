(this["webpackJsonpplay-music"]=this["webpackJsonpplay-music"]||[]).push([[0],{73:function(e,a,t){e.exports=t(96)},79:function(e,a,t){},80:function(e,a,t){},92:function(e,a,t){},96:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),i=t(9),o=t.n(i),l=t(44),r=t.n(l),u=t(51),s=t(22),m=t(59),d=t.n(m),p=t(60),f=t.n(p),g=t(61),h=t.n(g),E=t(58),b=t.n(E),v=t(65),A=(t(79),t(64)),y=t.n(A),j=t(36),F=t.n(j),O=(t(80),function(e){var a=e.audio,t=e.index,n=e.audioIndex;return c.a.createElement("div",null,c.a.createElement("div",{className:"audio-item ".concat(n===t?"playing":""),onClick:function(){e.selectAudio(t)}},c.a.createElement("img",{src:a.image,alt:"audio item"}),c.a.createElement("p",null,a.title+" - "+a.artist)))}),k=t(125),I=t(45),x=t(52),C=t(53),N=t(67),S=t(66),w=t(26);t(92);w.initializeApp({apiKey:"AIzaSyDcOXcWQ4-KGCxoqH7xMXE1S7SQeAYFpuc",authDomain:"reactjs-player.firebaseapp.com",databaseURL:"https://reactjs-player.firebaseio.com",projectId:"reactjs-player",storageBucket:"reactjs-player.appspot.com",messagingSenderId:"959377545174",appId:"1:959377545174:web:8b63c8f6335d80fb40f677",measurementId:"G-KFMF93KSK2"});var U=w.storage(),B=t(124),M=t(32),T=t.n(M),D=t(41),K=t.n(D),L=w.database().ref("audios"),R=function(e){Object(N.a)(t,e);var a=Object(S.a)(t);function t(e){var n;return Object(x.a)(this,t),(n=a.call(this,e)).closeFormUpload=function(){n.props.closeFormUpload()},n.selectAudio=function(e){"fileAudio"===e.target.name||"fileImage"===e.target.name?n.setState(Object(I.a)({},e.target.name,e.target.files[0])):n.setState(Object(I.a)({},e.target.name,e.target.value))},n.uploadFileAudio=function(){var e=n.state.fileAudio;e?U.ref("Audios/".concat(e.name)).put(e).on("state_changed",(function(e){var a=Math.round(e.bytesTransferred/e.totalBytes*100);n.setState({progressFileAudio:a})}),(function(e){console.log(e)}),(function(){U.ref("Audios").child(e.name).getDownloadURL().then((function(e){n.setState({urlFileAudio:e})}))})):T.a.fire("H\xe3y ch\u1ecdn file mp4 !","","error")},n.uploadFileImage=function(){var e=n.state.fileImage;e?U.ref("Images/".concat(e.name)).put(e).on("state_changed",(function(e){var a=Math.round(e.bytesTransferred/e.totalBytes*100);n.setState({progressFileImage:a})}),(function(e){console.log(e)}),(function(){U.ref("Images").child(e.name).getDownloadURL().then((function(e){n.setState({urlFileImage:e})}))})):T.a.fire("H\xe3y ch\u1ecdn file mp4 !","","error")},n.submitFileAudio=function(){var e=n.state,a=e.urlFileAudio,t=e.urlFileImage,c=e.artistAudio,i=e.nameAudio;a&&t?c&&i?(n.closeFormUpload(),L.push({src:a,image:t,title:i,artist:c}),T.a.fire("Upload Audio th\xe0nh c\xf4ng !","","success")):T.a.fire("B\u1ea1n h\xe3y nh\u1eadp \u0111\u1ea7y \u0111\u1ee7 th\xf4ng tin b\xe0i h\xe1t !","","error"):T.a.fire("B\u1ea1n h\xe3y upload file mp4 v\xe0 image tr\u01b0\u1edbc !","","error")},n.state={fileAudio:null,fileImage:null,nameAudio:null,artistAudio:null,urlFileAudio:null,urlFileImage:null,progressFileAudio:0,progressFileImage:0},n}return Object(C.a)(t,[{key:"render",value:function(){var e=this.state,a=e.progressFileAudio,t=e.progressFileImage,n=this.props.isOpenFormUpload;return c.a.createElement("div",{className:"form-upload-audio ".concat(n?"open":"")},c.a.createElement("div",{className:"icon-close-form"},c.a.createElement(F.a,{onClick:this.closeFormUpload})),c.a.createElement("p",null,"Upload Audio"),c.a.createElement("div",{className:"input-file"},c.a.createElement("span",null,"Audio"),c.a.createElement("input",{id:"fileAudio",type:"file",name:"fileAudio",accept:".mp3",onChange:this.selectAudio}),c.a.createElement("span",null,c.a.createElement(K.a,{onClick:this.uploadFileAudio}))),c.a.createElement("progress",{value:a,max:"100"}),c.a.createElement("div",{className:"input-file"},c.a.createElement("span",null,"Image"),c.a.createElement("input",{id:"fileImage",type:"file",name:"fileImage",onChange:this.selectAudio,accept:".jpg"}),c.a.createElement("span",null,c.a.createElement(K.a,{onClick:this.uploadFileImage}))),c.a.createElement("progress",{value:t,max:"100"}),c.a.createElement("div",null,c.a.createElement(B.a,{label:"Name Audio",name:"nameAudio",onChange:this.selectAudio})),c.a.createElement("div",null,c.a.createElement(B.a,{label:"Artist Audio",name:"artistAudio",onChange:this.selectAudio})),c.a.createElement(k.a,{onClick:this.submitFileAudio,variant:"contained"},c.a.createElement(K.a,null),"Upload"))}}]),t}(n.PureComponent),P=w.database().ref("audios"),G=function(){var e=Object(n.useRef)(),a=Object(n.useState)(0),t=Object(s.a)(a,2),i=t[0],o=t[1],l=Object(n.useState)([{src:"",image:"https://nicolasbrugneaux.me/web-player-react/dist/img/default.png",title:"Vui l\xf2ng ch\u1edd !",artist:"\u0110ang t\u1ea3i d\u1eef li\u1ec7u"}]),m=Object(s.a)(l,2),p=m[0],g=m[1],E=Object(n.useState)(0),A=Object(s.a)(E,2),j=A[0],I=A[1],x=Object(n.useState)(0),C=Object(s.a)(x,2),N=C[0],S=C[1],w=Object(n.useState)(!1),U=Object(s.a)(w,2),B=U[0],M=U[1],T=Object(n.useState)(!0),D=Object(s.a)(T,2),K=D[0],L=D[1],G=Object(n.useState)(!1),H=Object(s.a)(G,2),W=H[0],z=H[1];Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{P.once("value").then((function(e){var a=[],t=Object.keys(e.val()||{}),n=Object.values(e.val()||{});t.map((function(e,t){return n[t].id=e,a.push(n[t]),a})),a&&g(a)}))}catch(a){alert(a)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}));var J=function(e){P.child(e).remove()},Q=p.length,X=function(e){o(e)},_=function(){o(i===Q-1?0:i+1)};return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"audio"},c.a.createElement("div",{className:"background"}),c.a.createElement("img",{className:"Song-Thumbnail ".concat(B?"playAudio":"pauseAudio"),src:p[i].image,alt:"image"}),c.a.createElement("h2",{className:"Song-Title"},p[i].title),c.a.createElement("p",{className:"Singer"},p[i].artist),c.a.createElement("div",{className:"Control-Button-Group"},c.a.createElement("div",{className:"Prev-Button",onClick:function(){o(0===i?Q-1:i-1)}},c.a.createElement(b.a,null)),c.a.createElement("div",{className:"Pause-Play-Button",onClick:function(){B?e.current.pause():e.current.play(),M(!B)}},B?c.a.createElement(d.a,null):c.a.createElement(f.a,null)),c.a.createElement("div",{className:"Next-Button",onClick:function(){_()}},c.a.createElement(h.a,null))),c.a.createElement("p",{className:"render-time"},function(){var e=Math.floor(j/60),a=Math.floor(j%60),t=Math.floor(N/60),n=Math.floor(N%60),c="".concat(e," : ").concat(a<10?"0".concat(a):"".concat(a)),i="".concat(t," : ").concat(n<10?"0".concat(n):"".concat(n));return"".concat(c," / ").concat(i)}()),c.a.createElement(v.a,{axis:"x",xmax:N,x:j,onChange:function(a){var t=a.x;e.current.currentTime=t,I(t),B||(M(!0),e.current.play())},styles:{track:{backgroundColor:"#e3e3e3",height:"2px"},active:{backgroundColor:"#333",height:"2px"},thumb:{marginTop:"-3px",width:"8px",height:"8px",backgroundColor:"#333",borderRadius:0}}}),c.a.createElement("audio",{ref:e,src:p[i].src,onLoadedData:function(){S(e.current.duration),B&&e.current.play()},onTimeUpdate:function(){return I(e.current.currentTime)},onEnded:function(){_()}})),K?"":c.a.createElement("label",{className:"open-sidebar"},c.a.createElement(y.a,{onClick:function(){L(!0)}})),c.a.createElement("div",{className:"slide-bar ".concat(K?"open":"close"," ")},c.a.createElement("label",{className:"close-sidebar"},c.a.createElement(F.a,{onClick:function(){L(!1)}})),c.a.createElement("h1",null,"List Audios"),p.map((function(e,a){return c.a.createElement(O,{key:a,index:a,audio:e,selectAudio:function(){X(a)},audioIndex:i,deleteAudio:J})})),c.a.createElement("div",{className:"button-add-audio"},c.a.createElement(k.a,{variant:"contained",onClick:function(){z(!0)}},"Upload Audio"))),c.a.createElement(R,{isOpenFormUpload:W,closeFormUpload:function(){z(!1)}}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(G,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[73,1,2]]]);
//# sourceMappingURL=main.15abffc5.chunk.js.map